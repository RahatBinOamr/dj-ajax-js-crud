{% extends "base.html" %}


{% load static %}
{% load crispy_forms_tags %}


{% block title %}
{{post.title}}
{% endblock title %}


{% block script %}
<script src="{% static 'posts/detail.js' %}" defer></script>
{% endblock script %}



{% block content %}
<h3 id="title">{{post.title}}</h3>
<hr>
<p id="body">{{post.body}}</p> <br> <br>


<div id="spinner-box" class="text-center mb-4">
  <div class="spinner-border" role="status"></div>
</div> 



<button id="back-btn" class="btn btn-info">Back</button>
<button id="update-btn" class="btn btn-success not-visible" data-bs-toggle="modal" data-bs-target="#updatePostModel"> update</button>
<button id="delete-btn" class="btn btn-danger not-visible" data-bs-toggle="modal" data-bs-target="#deletePostModel">Delete</button>

<div class="mt-3" id="detail-box"></div>


<!-- Update Modal -->
<div class="modal fade" id="updatePostModel" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Update Post</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="alert-box"></div>
      <div class="modal-body">
        <form  id="update-form">
        {% csrf_token %}
        {{form | crispy}}
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancle</button>
          <button type="submit" class="btn btn-primary">Update</button>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>




<!-- Delete Modal -->
<div class="modal fade" id="deletePostModel" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Delete Post</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="alert-box"></div>
      <div class="modal-body">
      <p class=""> Are you want to delete <b>"{{post.title}}"</b>?</p>
      </div>

      <div class="model-footer">
      <form  id="delete-form">
        {% csrf_token %}
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancle</button>
          <button type="submit" class="btn btn-primary">delete</button>
        </div>
        </form>
        
      </div>
    </div>
  </div>
</div>



{% endblock content %}